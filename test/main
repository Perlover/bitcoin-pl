#! /usr/bin/perl
BEGIN { chdir '..' }

use warnings;
use strict;

use serialize;
use main;

for (qw(
010000008d0b8704785b91e22c7d6d62da1a0c1c3a368493bafe96abe3b5840a00000000f38c85d69a795b431060d768095bb457574263c33776412acf1069b61bb339c30e0ff94b249c151c5fd6feff0101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff0804249c151c023801ffffffff0100f2052a0100000043410430b67d9c35c59a184eda47512ab33f5e1e8d3edcf4ecc62a17a2cfa55afd2efe5e8ddbc9ab655b736fd94d6015381791682990427b9cc029fcafad83568463f5ac00000000
010000002a65d689da57b04ff7eb9476ca101bd7f2e2f9a5d7fcc78b1269900000000000d194b19dc9b13026a924f5f02f75ca23fd069857c65342afe6aedea95a0bcdbb5e0ff94b249c151cf7d029010101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff0804249c151c025718ffffffff0100f2052a0100000043410482c102a22bfd6047e38b097be7a6f19d20fc58b05959557165d2c0f411a2ed3cdc78e8bd1ed1887b1855103e7ced8b8d7dd8acb297b4ef89358d89cf2907d823ac00000000
)) { 
	my $block = serialize::Unserialize ('CBlock', pack ('H*', $_));
	main::ProcessBlock ($block);
}

my $tx = serialize::Unserialize ('CTransaction', pack 'H*', 
'01000000015a649ec071c062f6327be05f66b58c58783fc919886eb37f5d14a9172a8f82000000000049483045022100c139ed980ea7d206d9cff7c4271651fedbe5fcf484d6d15bb596d2b92a84ae9402201dd04520def19491bc5198b7d9357e8256d8d390dba245b6475997b53665e25b01ffffffff0100f2052a010000001976a91473a8ae071f4a9d3eddeba9e371fa0b120547eced88ac00000000'
);
main::AcceptTransaction ($tx);

main::GenesisBlock ();



print "ok\n";
